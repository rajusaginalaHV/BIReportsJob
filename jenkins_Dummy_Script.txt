pipeline {
  agent any

  stages {
    stage('User Input') {
      steps {
        script {
          def value1 = 'Value 1'
          def value2 = 'Value 2'
          def value3 = 'Value 3'

          def choices = "${value1}\n${value2}\n${value3}"

          def userInput = input(
            id: 'userInput',
            message: 'Select a value',
            parameters: [
              choice(choices: choices, description: 'Select a value', name: 'SELECTED_VALUE')
            ]
          )

          try {
            echo "Selected value: ${userInput.SELECTED_VALUE}"
          } catch (Exception e) {
            echo "Error accessing SELECTED_VALUE field: ${e.message}"
          }
        }
      }
    }
  }
}
